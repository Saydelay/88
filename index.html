<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delay.Cloud â€“ Premium Streaming</title>
    <style>
        :root {
            --bg: #0a0614;
            --card: #140c26;
            --purple: #b56bff;
            --text: #eee;
        }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0; padding: 0;
            overflow-x: hidden;
        }

        /* Startseite */
        #main-view { padding: 20px; }
        header { text-align: center; font-size: 32px; color: var(--purple); font-weight: bold; margin-bottom: 20px; }
        
        #search {
            width: 100%; max-width: 500px; padding: 12px;
            background: #1a1033; border: 2px solid #2a1a4a;
            border-radius: 10px; color: white; display: block; margin: 0 auto 30px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 20px; max-width: 1200px; margin: 0 auto;
        }

        .card {
            background: var(--card); border-radius: 12px;
            overflow: hidden; cursor: pointer; border: 1px solid #2a1a4a;
            transition: 0.3s; position: relative;
        }
        .card:hover { border-color: var(--purple); transform: translateY(-5px); }
        .card img { width: 100%; height: 230px; object-fit: cover; }
        .card-info { padding: 10px; text-align: center; }
        .type-tag { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); padding: 3px 7px; border-radius: 4px; font-size: 10px; color: var(--purple); }

        /* Serien-Detail-Ansicht */
        #detail-view {
            position: fixed; inset: 0; background: var(--bg);
            display: none; flex-direction: column; z-index: 1000;
            padding: 20px; overflow-y: auto;
        }
        .detail-header { display: flex; align-items: center; gap: 20px; margin-bottom: 30px; }
        .detail-header img { width: 120px; border-radius: 10px; border: 2px solid var(--purple); }
        .btn-back { background: var(--purple); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }

        .episode-list { display: flex; flex-direction: column; gap: 10px; }
        .episode-item {
            background: var(--card); padding: 15px; border-radius: 10px;
            display: flex; justify-content: space-between; align-items: center;
            border: 1px solid #2a1a4a; cursor: pointer; transition: 0.2s;
        }
        .episode-item:hover { border-color: var(--purple); background: #1a1033; }

        /* Save Button (Notiz vom 09.01.) */
        #save-btn {
            position: fixed; bottom: 20px; right: 20px;
            background: var(--purple); color: white; border: none;
            padding: 15px; border-radius: 50%; cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); z-index: 2000;
        }
    </style>
</head>
<body>

<div id="main-view">
    <header>ðŸŽ¬ Delay.Cloud</header>
    <input type="text" id="search" placeholder="Suchen..." oninput="render()">
    <div class="grid" id="grid"></div>
</div>

<div id="detail-view">
    <button class="btn-back" onclick="closeDetail()">â—€ ZurÃ¼ck</button>
    <div class="detail-header" id="detail-header-content"></div>
    <h3>Folgen:</h3>
    <div class="episode-list" id="episode-list"></div>
</div>

<button id="save-btn" title="Zustand speichern" onclick="saveAppState()">ðŸ’¾</button>

<script>
    // DEINE DATENBANK
    const content = [
        {
            name: "Fack ju GÃ¶hte",
            type: "movie",
            cover: "Fack ju GÃ¶hte.jpg",
            link: "https://c.web.de/@1597605810140086734/lPNKObYFmrFNvZOOk3Z5gQ/ROOT/ROOT"
        },
        {
            name: "Dexter Staffel 6",
            type: "series",
            cover: "Dexter Staffel 6 Episode 1.jpg",
            episodes: [
                { title: "Folge 1", link: "https://c.web.de/@1597605810140086734/gVi0kvA9sfofl-vf-xtiIA/ROOT/ROOT" },
                { title: "Folge 2", link: "LINK_ZU_FOLGE_2" },
                { title: "Folge 3", link: "LINK_ZU_FOLGE_3" }
            ]
        }
    ];

    function render() {
        const query = document.getElementById('search').value.toLowerCase();
        const grid = document.getElementById('grid');
        grid.innerHTML = '';

        content.filter(item => item.name.toLowerCase().includes(query)).forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="type-tag">${item.type === 'movie' ? 'FILM' : 'SERIE'}</div>
                <img src="files/covers/${item.cover}" onerror="this.src='https://via.placeholder.com/160x230/140c26/ffffff?text=${item.name}'">
                <div class="card-info"><p>${item.name}</p></div>
            `;
            card.onclick = () => item.type === 'movie' ? window.open(item.link, '_blank') : openDetail(index);
            grid.appendChild(card);
        });
    }

    function openDetail(index) {
        const item = content[index];
        const detailView = document.getElementById('detail-view');
        const headerContent = document.getElementById('detail-header-content');
        const listContent = document.getElementById('episode-list');

        headerContent.innerHTML = `
            <img src="files/covers/${item.cover}">
            <div>
                <h2>${item.name}</h2>
                <p>Staffel 1 | ${item.episodes.length} Folgen</p>
            </div>
        `;

        listContent.innerHTML = '';
        item.episodes.forEach(ep => {
            const epDiv = document.createElement('div');
            epDiv.className = 'episode-item';
            epDiv.innerHTML = `<span>${ep.title}</span> <span style="color:var(--purple)">â–¶</span>`;
            epDiv.onclick = () => window.open(ep.link, '_blank');
            listContent.appendChild(epDiv);
        });

        detailView.style.display = 'flex';
    }

    function closeDetail() {
        document.getElementById('detail-view').style.display = 'none';
    }

    function saveAppState() {
        const searchVal = document.getElementById('search').value;
        localStorage.setItem('delay_cloud_search', searchVal);
        alert("Suche wurde gespeichert!");
    }

    window.onload = () => {
        const saved = localStorage.getItem('delay_cloud_search');
        if(saved) document.getElementById('search').value = saved;
        render();
    };
</script>

</body>
</html>
