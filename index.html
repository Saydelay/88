<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Delay.Filme & Serien</title>

<style>
:root{
    --bg:#0a0614;
    --card:#140c26;
    --purple:#b56bff;
    --glow:#7a2cff;
}

body{
    margin:0;
    background:var(--bg);
    color:#eee;
    font-family:Arial, sans-serif;
}

/* HEADER */
header{
    padding:25px;
    font-size:32px;
    font-weight:bold;
    color:var(--purple);
    letter-spacing:1px;
}

/* SEARCH */
input{
    width:calc(100% - 50px);
    margin:0 25px 25px;
    padding:14px;
    font-size:16px;
    border-radius:8px;
    border:none;
    background:#1a1033;
    color:white;
    outline:none;
}

/* GRID */
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
    gap:18px;
    padding:0 25px 50px;
}

/* CARD */
.card{
    position:relative;
    background:var(--card);
    border-radius:10px;
    overflow:hidden;
    cursor:pointer;
    transform:scale(1);
    transition:transform .3s ease, box-shadow .3s ease;
}

.card:hover{
    transform:scale(1.12);
    box-shadow:0 0 25px var(--glow);
    z-index:10;
}

.card img{
    width:100%;
    display:block;
}

.card::after{
    content:"â–¶ Abspielen";
    position:absolute;
    inset:0;
    background:linear-gradient(to top, rgba(0,0,0,.9), transparent);
    color:white;
    display:flex;
    align-items:flex-end;
    justify-content:center;
    padding-bottom:15px;
    opacity:0;
    transition:opacity .3s ease;
    font-size:14px;
}

.card:hover::after{
    opacity:1;
}

.card p{
    margin:0;
    padding:10px;
    text-align:center;
    font-size:14px;
}

/* PLAYER */
#player{
    position:fixed;
    inset:0;
    background:black;
    display:none;
    z-index:1000;
}

#player video{
    width:100%;
    height:100%;
}

#close{
    position:absolute;
    top:20px;
    right:30px;
    font-size:32px;
    color:var(--purple);
    cursor:pointer;
    z-index:1001;
}
#close:hover{
    text-shadow:0 0 10px var(--purple);
}

/* BACK BUTTON fÃ¼r Grid */
#back{
    position:absolute;
    top:20px;
    right:80px; /* rechts oben neben Close */
    font-size:24px;
    color:var(--purple);
    cursor:pointer;
    z-index:1001;
    display:none; /* standardmÃ¤ÃŸig unsichtbar */
}
#back:hover{
    text-shadow:0 0 10px var(--purple);
}
</style>
</head>

<body>

<header>ðŸŽ¬ Delay.Filme & Serien</header>

<input type="text" placeholder="Suchen..." id="search">

<div id="back">â—€ ZurÃ¼ck</div>

<div class="grid" id="movies"></div>

<div id="player">
    <div id="close">âœ–</div>
    <video id="video" controls autoplay></video>
</div>

<script>
// Filme
const movies = [
    { name: "Zoomania 2", cover: "Zoomania 2.jpg" },
    { name: "Zoomania", cover: "Zoomania.jpg" },
    { name: "Five Nights at Freddy's 2", cover: "Five Nights at Freddy's 2.jpg" },
    { name: "Fack ju GÃ¶hte", cover: "Fack ju GÃ¶hte.jpg" },
    { name: "Fack ju GÃ¶hte 2", cover: "Fack ju GÃ¶hte 2.jpg" },
    { name: "Fack ju GÃ¶hte 3", cover: "Fack ju GÃ¶hte 3.jpg" },
    { name: "Jurassic World Die Wiedergeburt", cover: "Jurassic World Die Wiedergeburt.jpg" },
    { name: "Jurassic World Das gefallene KÃ¶nigreich", cover: "Jurassic World Das gefallene KÃ¶nigreich.jpg" },
    { name: "Jurassic World", cover: "Jurassic World.jpg" },
];

// Serien
const series = [
    {
        name: "IT Welcome to Derry",
        seasons: [
            {
                season: 1,
                episodes: [
                    { name: "Episode 1", cover: "IT Welcome to Derry Staffel 1 Episode 1.jpg" },
                    { name: "Episode 2", cover: "Stranger Things Staffel 1 Episode 2.jpg" },
                    { name: "Episode 3", cover: "Stranger Things Staffel 1 Episode 3.jpg" }
                ]
            },
        ]
    }
];

const grid = document.getElementById("movies");
const search = document.getElementById("search");
const player = document.getElementById("player");
const video = document.getElementById("video");
const backBtn = document.getElementById("back");

let currentSeries = null;
let currentSeason = null;
let currentView = "main"; // "main", "seasons", "episodes"

// Grid rendern
function render(filter=""){
    grid.innerHTML="";
    currentSeries = null;
    currentSeason = null;
    currentView = "main";
    backBtn.style.display = "none";

    movies.filter(m => m.name.toLowerCase().includes(filter)).forEach(m => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `<img src="files/covers/${m.cover}"><p>${m.name}</p>`;
        card.onclick = () => playMovie(m.name);
        grid.appendChild(card);
    });

    series.filter(s => s.name.toLowerCase().includes(filter)).forEach(s => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `<img src="files/covers/${s.seasons[0].episodes[0].cover}"><p>${s.name}</p>`;
        card.onclick = () => showSeasons(s);
        grid.appendChild(card);
    });
}

// Filme abspielen
function playMovie(name){
    video.src = `files/movies/${name}.mp4`;
    player.style.display = "block";
    backBtn.style.display = "none"; // kein Back-Button beim Film
    video.play();
}

// Serien: Staffeln anzeigen
function showSeasons(seriesObj){
    currentSeries = seriesObj;
    currentSeason = null;
    currentView = "seasons";
    grid.innerHTML = "";
    backBtn.style.display = "block";

    seriesObj.seasons.forEach(season => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `<img src="files/covers/${season.episodes[0].cover}"><p>${seriesObj.name} - Staffel ${season.season}</p>`;
        card.onclick = () => showEpisodes(season);
        grid.appendChild(card);
    });
}

// Episoden anzeigen
function showEpisodes(season){
    currentSeason = season;
    currentView = "episodes";
    grid.innerHTML = "";
    backBtn.style.display = "block";

    season.episodes.forEach(ep => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `<img src="files/covers/${ep.cover}"><p>${ep.name}</p>`;
        card.onclick = () => playEpisode(currentSeries.name, season.season, ep.name);
        grid.appendChild(card);
    });
}

// Episode abspielen
function playEpisode(seriesName, seasonNum, episode){
    video.src = `files/series/${seriesName} Staffel ${seasonNum} ${episode}.mp4`;
    player.style.display = "block";
    backBtn.style.display = "none"; // kein Back-Button beim Video
    video.play();
}

// Player schlieÃŸen
document.getElementById("close").onclick = () => {
    video.pause();
    video.src = "";
    player.style.display = "none";
    if(currentView === "seasons" || currentView === "episodes") backBtn.style.display = "block";
};

// Grid-ZurÃ¼ck-Button
backBtn.onclick = () => {
    if(currentView === "episodes") showSeasons(currentSeries);
    else if(currentView === "seasons") render(search.value.toLowerCase());
};

search.oninput = e => render(e.target.value.toLowerCase());
render();
</script>

</body>
</html>
