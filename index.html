<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delay.Filme & Serien</title>

<style>
*{box-sizing:border-box}
body{
    margin:0;
    background:#0a0614;
    color:#fff;
    font-family:Arial,sans-serif;
}
header{
    padding:20px;
    text-align:center;
    font-size:28px;
    color:#b56bff;
}
input{
    width:calc(100% - 40px);
    margin:0 20px 20px;
    padding:12px;
    border-radius:8px;
    border:none;
    background:#1a1033;
    color:white;
}
h2{
    margin:20px;
    color:#b56bff;
}
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
    gap:15px;
    padding:0 15px 30px;
}
.card{
    background:#140c26;
    border-radius:10px;
    overflow:hidden;
    cursor:pointer;
}
.card img{width:100%;display:block}
.card p{
    margin:0;
    padding:8px;
    font-size:14px;
    text-align:center;
}

/* PLAYER */
#overlay{
    position:fixed;
    inset:0;
    background:black;
    display:none;
    z-index:1000;
}
#overlay video{
    width:100%;
    height:100%;
}
#close{
    position:fixed;
    top:10px;
    right:15px;
    font-size:32px;
    color:#b56bff;
    cursor:pointer;
    z-index:1001;
}

/* LOADER */
#loader{
    position:absolute;
    inset:0;
    background:black;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}
#bar{
    width:70%;
    height:12px;
    background:#222;
    border-radius:6px;
    overflow:hidden;
    margin-top:20px;
}
#bar span{
    display:block;
    height:100%;
    width:0%;
    background:#b56bff;
    transition:width .4s linear;
}
#wait{
    margin-top:10px;
    font-size:14px;
    opacity:.8;
    display:none;
}

/* NAV */
#nav{
    display:none;
    padding:15px;
}
#back{
    cursor:pointer;
    color:#b56bff;
    margin-bottom:10px;
}
</style>
</head>

<body>

<header>ðŸŽ¬ Delay.Filme & Serien</header>
<input id="search" placeholder="Suchen...">

<div id="nav">
    <div id="back">â¬… ZurÃ¼ck</div>
    <h2 id="navTitle"></h2>
</div>

<h2 id="moviesTitle">Filme</h2>
<div class="grid" id="moviesGrid"></div>

<h2 id="seriesTitle">Serien</h2>
<div class="grid" id="seriesGrid"></div>

<div id="overlay">
    <div id="close">âœ–</div>
    <div id="loader">
        <div>Video wird geladenâ€¦</div>
        <div id="bar"><span></span></div>
        <div id="wait">warte noch einen momentâ€¦</div>
    </div>
    <video id="video" controls playsinline preload="metadata"></video>
</div>

<script>
// ================== SERIEN ==================
const series = [
    {
        name: "Dexter",
        seasons: [
            {
                season: 1,
                episodes: [
                    {
                        name: "Episode 1",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 2",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 3",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 4",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 5",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 6",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 7",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 8",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 9",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 10",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 11",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 12",
                        cover: "Dexter Staffel 1 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                ]
            },
            {
                season: 2,
                episodes: [
                    {
                        name: "Episode 1",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 2",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 3",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 4",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 5",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 6",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 7",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 8",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 9",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 10",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                    {
                        name: "Episode 11",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E01.mp4"
                    },
                    {
                        name: "Episode 12",
                        cover: "Dexter Staffel 2 Episode 1.jpg",
                        link: "https://archive.org/download/DEIN_ORDNER/IT_S01E02.mp4"
                    },
                ]
            }
        ]
    }
];

const moviesGrid=moviesGrid=document.getElementById("moviesGrid");
const seriesGrid=document.getElementById("seriesGrid");
const overlay=document.getElementById("overlay");
const video=document.getElementById("video");
const loader=document.getElementById("loader");
const bar=document.querySelector("#bar span");
const wait=document.getElementById("wait");
const closeBtn=document.getElementById("close");
const search=document.getElementById("search");
const nav=document.getElementById("nav");
const navTitle=document.getElementById("navTitle");
const back=document.getElementById("back");
const moviesTitle=document.getElementById("moviesTitle");
const seriesTitle=document.getElementById("seriesTitle");

let state="home";
let currentSerie=null;
let currentSeason=null;

function fakeLoad(cb){
    let p=0;
    wait.style.display="none";
    const i=setInterval(()=>{
        p+=2;
        bar.style.width=p+"%";
        if(p>=100){wait.style.display="block";}
    },300);
    cb(()=>clearInterval(i));
}

function play(link){
    overlay.style.display="block";
    loader.style.display="flex";
    bar.style.width="0%";
    video.src=link;
    fakeLoad(done=>{
        video.oncanplay=()=>{
            loader.style.display="none";
            video.play();
            done();
        };
    });
}

closeBtn.onclick=()=>{
    video.pause();
    video.src="";
    overlay.style.display="none";
};

back.onclick=()=>{
    if(state==="episodes"){showSeasons(currentSerie);}
    else if(state==="seasons"){renderHome();}
};

function renderHome(){
    state="home";
    nav.style.display="none";
    moviesTitle.style.display="block";
    seriesTitle.style.display="block";
    renderMovies();
    renderSeries();
}

function renderMovies(){
    moviesGrid.innerHTML="";
    movies.forEach(m=>{
        const d=document.createElement("div");
        d.className="card";
        d.innerHTML=`<img src="files/covers/${m.cover}"><p>${m.name}</p>`;
        d.onclick=()=>play(m.link);
        moviesGrid.appendChild(d);
    });
}

function renderSeries(){
    seriesGrid.innerHTML="";
    series.forEach(s=>{
        const d=document.createElement("div");
        d.className="card";
        d.innerHTML=`<img src="files/covers/${s.cover}"><p>${s.name}</p>`;
        d.onclick=()=>showSeasons(s);
        seriesGrid.appendChild(d);
    });
}

function showSeasons(s){
    state="seasons";
    currentSerie=s;
    nav.style.display="block";
    navTitle.textContent=s.name+" â€“ Staffeln";
    moviesTitle.style.display="none";
    seriesTitle.style.display="none";
    moviesGrid.innerHTML="";
    seriesGrid.innerHTML="";
    s.seasons.forEach(se=>{
        const d=document.createElement("div");
        d.className="card";
        d.innerHTML=`<img src="files/covers/${s.cover}"><p>Staffel ${se.season}</p>`;
        d.onclick=()=>showEpisodes(se);
        seriesGrid.appendChild(d);
    });
}

function showEpisodes(se){
    state="episodes";
    currentSeason=se;
    navTitle.textContent=currentSerie.name+" â€“ Staffel "+se.season;
    seriesGrid.innerHTML="";
    se.episodes.forEach(e=>{
        const d=document.createElement("div");
        d.className="card";
        d.innerHTML=`<img src="files/covers/${e.cover}"><p>${e.name}</p>`;
        d.onclick=()=>play(e.link);
        seriesGrid.appendChild(d);
    });
}

renderHome();
</script>

</body>
</html>
